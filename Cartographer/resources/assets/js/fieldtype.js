!function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){Vue.component("cartographer-fieldtype",r(2))},function(t,e,r){var a,n,o={};a=r(3),n=r(7),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var i="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(i.template=n),i.computed||(i.computed={}),Object.keys(o).forEach(function(t){var e=o[t];i.computed[t]=function(){return e}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(4),n=r.n(a),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t};e.default={mixins:[Fieldtype],props:["data","config","name"],data:function(){return{map:null}},attached:function(){var t=this;if("undefined"!=typeof google){var e=this.$els.mapContainer,r={lat:this.data.center.lat||52.6318051,lng:this.data.center.lng||1.296734};this.map=new google.maps.Map(e,{center:r,fullscreenControl:!1,mapTypeId:this.data.map_type_id||"roadmap",streetViewControl:!1,zoom:3}),this.map.addListener("maptypeid_changed",this.handleMapTypeChange);var a=new google.maps.Marker({draggable:!0,map:this.map,position:r,label:"C"});["drag","dragend"].forEach(function(e){a.addListener(e,function(e){return t.handleMarkerDragged(e,"center",!0)})}),this.data.markers=this.data.markers||[],this.data.markers.length&&this.populateMarkers(this.data.markers)}},methods:{addMarker:function(){var t=this,e=n()(),r=new google.maps.Marker({animation:google.maps.Animation.DROP,draggable:!0,map:this.map,position:this.map.getCenter(),id:e});this.data.markers.push({id:e,position:this.map.getCenter().toJSON()}),["drag","dragend"].forEach(function(a){r.addListener(a,function(r){return t.handleMarkerDragged(r,e)})})},populateMarkers:function(t){var e=this;t.forEach(function(t,r){r++;var a=new google.maps.Marker({draggable:!0,map:e.map,position:t.position,id:t.id,label:r.toString()});["drag","dragend"].forEach(function(t){a.addListener(t,function(t){return e.handleMarkerDragged(t,a.id)})})})},handleMapTypeChange:function(){this.data=o({},this.data,{map_type_id:this.map.getMapTypeId()})},handleMarkerDragged:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[t.latLng.lat(),t.latLng.lng()],n=a[0],i=a[1];r?this.data=o({},this.data,{center:{lat:n,lng:i}}):this.updateMarker(e,{position:{lat:n,lng:i}})},updateMarker:function(t,e){var r=this.data.markers,a=r.findIndex(function(e){return e.id===t});if(a<0)return!1;r[a]=o({},r[a],e),this.data=o({},this.data,{markers:r})}}}},function(t,e,r){var a=r(5),n=r(6);t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var s=0;s<16;++s)e[o+s]=i[s];return e||n(i)}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var a=new Uint8Array(16);t.exports=function(){return r(a),a}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},function(t,e){for(var r=[],a=0;a<256;++a)r[a]=(a+256).toString(16).substr(1);t.exports=function(t,e){var a=e||0,n=r;return[n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],"-",n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]],n[t[a++]]].join("")}},function(t,e){t.exports=' <section class=cartographer-field> <div class="btn-group my-1 mr-2"> <a href=# class="btn btn-default" @click.prevent=addMarker> Marker <i class="icon icon-plus icon-right"></i> </a> </div> <div class=cartographer-field__map v-el:map-container></div> </section> '}]);